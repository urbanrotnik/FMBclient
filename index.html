<!DOCTYPE html>
<html>
<title>Find My Buddy</title>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

<link rel="stylesheet" href="http://code.jquery.com/mobile/1.0rc2/jquery.mobile-1.0rc2.min.css">
<script type="text/javascript" src="http://code.jquery.com/jquery-1.6.4.min.js"></script>
<script type="text/javascript" src="http://code.jquery.com/mobile/1.0rc2/jquery.mobile-1.0rc2.min.js"></script> 
<script type="text/javascript" src="cordova.js"></script>
<script src="js/handlebars-v3.0.1.js" type="text/javascript" ></script>
<script src="js/sammy.js" type="text/javascript" ></script>

 <style type="text/css">
      html, body, #map-canvas { height:100vh; margin: 0; padding: 0;width: 100vh;}
    </style>
    <script src="https://maps.google.com/maps/api/js?sensor=true"></script>
    <script type="text/javascript">

    // Wait for device API libraries to load
    //
    function onLoad() {
        document.addEventListener("deviceready", onDeviceReady, false);
        document.addEventListener("online", onOnline, false);
    }
    // device APIs are available
    //
    function onDeviceReady() {
      document.addEventListener("offline", onOffline, false);
    }

    function onOnline() {
      alert('Super, spet imate povezavo!')
      //Sihroniziraj, če obstaja potreba po tem! 
      syncToServer();
    }
    function onOffline() {
      alert('Trenutno ste offline! Shranjeni dogodki bodo dodani lokalni in sinhronizirani ob vzpostavitvi povezave')
    }


function initialize1(data) {
  var arrayActivity = [];

  var myLatlng = new google.maps.LatLng(-25.363882,131.044922);
  var mapOptions = {
    zoom: 4,
    center: myLatlng
  }
  var map = new google.maps.Map(document.getElementById('map-canvas'), mapOptions);

for(var i in data){
    var myLatlng = new google.maps.LatLng(data[i]['latitude'],data[i]['longitude']);
    var marker = new google.maps.Marker({
      position: myLatlng,
      map: map,
      title: data[i]['name']
  });
  var marker = new google.maps.Marker({
      position: myLatlng,
      map: map,
      title: data[i]['name']
  });
  }
}
    </script>
    
</head>
  <body onload="onLoad()">
  <!--   page INDEX  --> 
  <div data-role="page" id="index">
    <header data-role="header">     
      <a id="logout" data-theme="b" class="ui-btn-right logout_btn">Odjava</a>
      <h1>Find My Buddy</h1>
    </header>
    <div data-role="content">
      <h3>Aktivnosti</h3>
      <p>Izberi aktivnost in se prijavi</p>
      <h3>PhoneGap-GoogleMaps-Plugin</h3>
      <a href="#login" data-direction="reverse">Login</a>
      <div id="map-canvas"></div>Mapa

    </div>
    <footer data-role="footer">
      <div data-role="navbar">
        <ul>
          <li><a href="#index">Dogodki</a></li>
          <li><a href="#my_activity" >Moji Dogodki</a></li>
          <li><a href="#prazna_stran">Prazna stran</a></li>
        </ul>
      </div>
    </footer>
  </div>
  <!--   END INDEX --> 

  <!--  page LOGIN -->             
  <div data-role="page" id="login">
    <header data-role="header">
      <h1>Prijava</h1>
    </header>
    <div data-role="content">

      <form action="post.html" id="login_form" method="POST">
        <label for="text-1">Uporabnisko:</label>
        <input type="text" name="username" id="username" value="">
        <label for="text-3">Geslo</label>
        <input type="password" data-clear-btn="true" name="password" id="password" value="">
        <input type="submit" value="PRIJAVA" id="submit-btn">
      </form>

    </div>
   <div data-role="footer">
      <h4>FMB</h4>
    </div>
  </div>
  <!--  END LOGIN -->   



  <!--  page MY ACTIVITY -->   
  <div data-role="page" id="my_activity">
    <header data-role="header">     
      <a id="logout_btn" data-theme="b" class="ui-btn-right logout_btn">Odjava</a>
      <h1>Find My Buddy</h1>
    </header>
    <div data-role="content" id="listview-content">
      <p>just some extra content as well.</p>
      <p>
        <div id="articleHandlebars" data-demo-html="true"></div>
      </p> 
      <p>I mean, you can <a data-rel="" href="#index">go back</a> at any time.</p>
    </div>
    <footer data-role="footer">
      <div data-role="navbar">
        <ul>
          <li><a href="#index">Dogodki</a></li>
          <li><a href="#my_activity" >Moji Dogodki</a></li>
          <li><a href="#prazna_stran">Prazna stran</a></li>
        </ul>
      </div>
    </footer>
  </div>
  <!--   END MY ACTIVITY -->   

  <!--  page PRAZNA STRAN -->   
  <div data-role="page" id="prazna_stran">
    <header data-role="header">     
      <a id="logout_btn" data-theme="b" class="ui-btn-right logout_btn">Odjava</a>
      <h1>Find My Buddy</h1>
    </header>
    <div data-role="content" id="as">
      <p>just some extra content as well.</p>
      <p>
        <div id="articleHandlebars" data-demo-html="true"></div>
      </p> 
      <p>I mean, you can <a data-rel="" href="#index">go back</a> at any time.</p>
    </div>
    <footer data-role="footer">
      <div data-role="navbar">
        <ul>
          <li><a href="#index">Dogodki</a></li>
          <li><a href="#my_activity" >Moji Dogodki</a></li>
          <li><a href="#prazna_stran">Prazna stran</a></li>
        </ul>
      </div>
    </footer>
  </div>
  <!--   END MY ACTIVITY --> 

  <!--   INCLUDE SAMMY ROUTING -->   
  <script type="text/javascript" src="js/main.js"></script>
  
  <!-- TEMPLATE -->
  <script id="articles-template" type="text/x-handlebars-template">
    <ul id="listv" data-role="listview" data-autodividers="true"  data-filter="true" data-inset="true">
      {{#entries}} 
      <li><a href="#" onClick="alert('{{name}}')">{{name}}</a></li>
      {{/entries}}
    </ul>
  </script> 
<!-- TEMPLATE -->       

</body>
</html>